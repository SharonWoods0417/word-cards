# PDF导出功能使用指南

## 📋 功能概述

单词卡片制作工具现已支持PDF导出格式：
- **PDF导出**：高质量打印格式，支持双面打印
- **统一布局**：与打印预览使用完全相同的布局参数
- **精确排版**：使用物理尺寸单位，确保打印精度

## 🖨️ PDF导出功能

### 特点
- **统一配置**：与打印预览使用相同的布局参数，确保一致性
- **物理尺寸单位**：使用毫米(mm)单位，自动转换为点(pt)单位
- **标准A4纸张**：210mm × 297mm 标准A4尺寸
- **固定布局**：2列3行，每页6张卡片
- **精确间距**：左右间距10mm，上下间距6mm
- **自动分页**：支持大量单词卡片

### 使用步骤
1. **准备数据**：确保已添加单词并填写必要信息
2. **预览效果**：使用打印预览功能查看最终效果
3. **点击导出**：点击"开始导出"按钮
4. **等待处理**：系统会显示导出进度
5. **下载文件**：PDF文件会自动下载到本地

### 打印建议
- **双面打印**：选择"短边翻转"设置
- **纸张选择**：建议使用A4纸张
- **打印质量**：选择高质量打印以获得最佳效果

## ⚙️ 导出设置说明

### 布局配置
- **卡片尺寸**：75mm × 90mm (5:6比例)
- **网格布局**：2列3行，每页6张卡片
- **间距设置**：
  - 列间距：10mm
  - 行间距：6mm
- **边距设置**：
  - 上边距：6mm
  - 下边距：10mm
  - 侧边距：10mm

### 配置管理
所有布局参数统一在 `config/cardConfig.ts` 中管理：

```typescript
export const pageConfig = {
  a4: { width: 210, height: 297, unit: 'mm' },    // A4纸
  cols: 2, rows: 3,                               // 2×3网格
  card: { width: 75, height: 90, unit: 'mm' },    // 卡片尺寸
  colGap: 10, rowGap: 6,                          // 间距
  paddingTop: 6, paddingBottom: 10, paddingSide: 10, // 边距
};
```

## 📐 卡片布局规格

### 卡片尺寸
- 宽度：75mm
- 高度：90mm
- 比例：5:6

### 正面布局
- 图片区域：上38%高度
- 内容区域：下62%高度
- 内容：单词、音标、自然拼读

### 反面布局
- 中文释义：上40%高度
- 例句区域：下60%高度
- 内容：英文例句、中文翻译

## 🔧 技术细节

### PDF导出技术
- 使用 `pdf-lib` 库
- 物理尺寸单位转换（mm → pt）
- 精确坐标定位
- 支持多种字体和样式
- 支持音标和中文字符

### 统一配置系统
- **配置中心**：`config/cardConfig.ts`
- **单位转换**：`mmToPt()` 函数
- **布局参数**：A4尺寸、卡片尺寸、间距、边距
- **生效范围**：网页预览、打印预览、PDF导出

## ❓ 常见问题

### Q: PDF文件太大怎么办？
A: 当前使用固定布局（2×3），每页6张卡片，文件大小适中。

### Q: 打印时正反面不对齐怎么办？
A: 确保选择"短边翻转"打印设置，并检查打印机设置。

### Q: 音标字符显示异常怎么办？
A: 系统已优化字体编码，支持音标字符。如果仍有问题，请检查单词数据。

### Q: 可以自定义卡片尺寸吗？
A: 可以修改 `config/cardConfig.ts` 中的 `cardDimensions` 配置。

### Q: 如何调整布局参数？
A: 修改 `config/cardConfig.ts` 中的 `pageConfig` 参数，所有场景会自动同步。

## 🚀 后续计划

- [x] 统一卡片尺寸配置
- [x] 网页预览和打印预览等比缩放
- [x] PDF导出与打印预览布局一致
- [ ] 支持自定义卡片尺寸
- [ ] 添加更多纸张尺寸选项
- [ ] 支持自定义字体
- [ ] 添加水印功能
- [ ] 支持批量导出设置

---

**文档版本**：v1.4  
**最后更新**：2024-12-19 
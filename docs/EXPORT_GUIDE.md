# 打印与保存为 PDF 使用指南

## 📋 功能概述

单词卡片制作工具采用浏览器打印流程：
- **所见即所得**：直接使用浏览器打印（推荐 Chrome）
- **保存为 PDF**：在打印对话框选择“保存为 PDF”即可导出
- **统一布局**：与页面预览完全一致的尺寸与间距

## 🖨️ 打印设置

### 推荐配置
- **纸张**：A4（210mm × 297mm）
- **边距**：无
- **比例/缩放**：100%
- **背景图形**：启用
- **双面**：短边翻转（反面每行列顺序已反转）
- **微调**：可在页面“导出与打印”区域设置“背面 X/Y 偏移（mm）”

### 使用步骤
1. **准备数据**：确保已添加单词并填写必要信息
2. **预览效果**：在页面预览确认排版
3. **打印**：点击“全部打印”或“打印正面/打印反面”
4. **保存为 PDF**：在打印对话框选择“保存为 PDF”

### 打印建议
- **双面打印**：选择“短边翻转”
- **纸张选择**：使用 A4
- **打印质量**：选择高质量打印

## ⚙️ 导出设置说明

### 布局配置
- **卡片尺寸**：75mm × 90mm (5:6比例)
- **网格布局**：2列3行，每页6张卡片
- **间距设置**：
  - 列间距：10mm
  - 行间距：6mm
- **边距设置**：
  - 上边距：6mm
  - 下边距：9mm
  - 侧边距：10mm

### 配置管理
所有布局参数统一在 `config/cardConfig.ts` 中管理：

```typescript
export const pageConfig = {
  a4: { width: 210, height: 297, unit: 'mm' },    // A4纸
  cols: 2, rows: 3,                               // 2×3网格
  card: { width: 75, height: 90, unit: 'mm' },    // 卡片尺寸
  colGap: 10, rowGap: 6,                          // 间距
  paddingTop: 6, paddingBottom: 9, paddingSide: 10, // 边距
};
```

## 📐 卡片布局规格

### 卡片尺寸
- 宽度：75mm
- 高度：90mm
- 比例：5:6

### 正面布局
- 图片区域：上38%高度
- 内容区域：下62%高度
- 内容：单词、音标、自然拼读

### 反面布局
- 中文释义：上40%高度
- 例句区域：下60%高度
- 内容：英文例句、中文翻译

## 🔧 技术细节

### 技术说明
- 使用 CSS mm 单位保证物理尺寸
- @media print 与 @page 控制纸张与边距
- 反面列顺序反转 + 背面偏移保障对齐

### 统一配置系统
- **配置中心**：`config/cardConfig.ts`
- **单位转换**：`mmToPt()` 函数
- **布局参数**：A4尺寸、卡片尺寸、间距、边距
- **生效范围**：网页预览、打印预览、PDF导出

## ❓ 常见问题

### Q: PDF文件太大怎么办？
A: 当前使用固定布局（2×3），每页6张卡片，文件大小适中。

### Q: 打印时正反面不对齐怎么办？
A: 确保选择"短边翻转"打印设置，并检查打印机设置。

### Q: 音标字符显示异常怎么办？
A: 系统已优化字体编码，支持音标字符。如果仍有问题，请检查单词数据。

### Q: 可以自定义卡片尺寸吗？
A: 可以修改 `config/cardConfig.ts` 中的 `cardDimensions` 配置。

### Q: 如何调整布局参数？
A: 修改 `config/cardConfig.ts` 中的 `pageConfig` 参数，所有场景会自动同步。

## 🚀 后续计划

- [x] 统一卡片尺寸配置
- [x] 网页预览和打印预览等比缩放
- [x] PDF导出与打印预览布局一致
- [ ] 支持自定义卡片尺寸
- [ ] 添加更多纸张尺寸选项
- [ ] 支持自定义字体
- [ ] 添加水印功能
- [ ] 支持批量导出设置

---

**文档版本**：v1.5  
**最后更新**：2025-08-10
# API 配置说明

## 概述

单词卡片制作工具需要配置以下 API 密钥来启用自动补全功能：

1. **OpenRouter API** - 用于补全文本字段（音标、释义、例句、翻译）
2. **Pexels API** - 用于搜索相关图片

## 环境变量配置

在项目根目录创建 `.env.local` 文件：

```bash
# OpenRouter API 配置
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Pexels API 配置  
PEXELS_API_KEY=your_pexels_api_key_here
```

## API 服务配置

### 1. OpenRouter API

**用途**: 自动补全单词的音标、中文释义、英文例句和翻译

**获取方式**:
1. 访问 [OpenRouter](https://openrouter.ai/)
2. 注册账号并获取 API 密钥
3. 将密钥添加到环境变量

**支持的模型**:
- GPT-4
- Claude-3
- 其他 OpenRouter 支持的模型

### 2. Pexels API

**用途**: 根据单词搜索相关的高质量图片

**获取方式**:
1. 访问 [Pexels](https://www.pexels.com/api/)
2. 注册开发者账号
3. 获取 API 密钥

**图片特性**:
- 免费商用授权
- 高质量图片
- 支持多种尺寸

## 功能特性

### 自动补全功能

- **音标生成** - 自动生成标准音标
- **中文释义** - 提供准确的中文翻译
- **例句生成** - 创建适合儿童的英文例句
- **翻译补全** - 自动翻译例句为中文

### 图片搜索功能

- **智能匹配** - 根据单词自动搜索相关图片
- **质量筛选** - 优先显示高质量图片
- **尺寸适配** - 自动调整图片尺寸适配卡片

### 打印预览功能

- **A4 布局优化** - 210mm × 297mm 标准纸张
- **2×3 网格排列** - 每页6张卡片
- **卡片尺寸** - 75mm × 90mm
- **间距控制** - 左右10mm，上下6mm
- **居中显示** - 自动居中布局

## 故障排除

### 常见问题

1. **API 密钥无效**
   - 检查密钥是否正确复制
   - 确认 API 服务是否正常

2. **补全功能不工作**
   - 检查网络连接
   - 验证 API 配额是否充足

3. **图片加载失败**
   - 检查 Pexels API 密钥
   - 确认图片 URL 是否有效

### 调试模式

启用调试模式查看详细错误信息：

```bash
# 在 .env.local 中添加
DEBUG=true
```

## 更新日志

### v1.2.0 (最新)
- ✅ 新增打印预览功能
- ✅ 实现 CardPreview 统一组件
- ✅ 优化A4纸布局和卡片尺寸
- ✅ 添加实时缩放和尺寸提示

### v1.1.0
- ✅ 实现自动补全功能
- ✅ 集成图片搜索
- ✅ 支持 CSV 批量导入

### v1.0.0
- ✅ 基础单词卡片制作功能
- ✅ 表格编辑界面
- ✅ 实时预览功能 
# 更新日志

## [v1.4] - 2024-12-19

### ✨ 新增功能
- **统一卡片尺寸配置**：实现"一次配置，处处生效"的卡片尺寸管理
- **等比缩放效果**：网页预览和打印预览保持完全一致的视觉效果
- **配置中心**：新增 `config/cardConfig.ts` 统一管理所有布局参数
- **PDF导出统一**：PDF导出与打印预览使用完全相同的布局参数

### 🔧 技术改进
- **统一配置系统**：所有场景（网页预览、打印预览、PDF导出）使用相同的配置源
- **物理尺寸单位**：统一使用毫米(mm)单位，确保打印精度
- **毫米转点转换**：PDF导出自动将mm转换为pt单位
- **布局参数集中化**：A4尺寸、卡片尺寸、间距、边距等参数统一管理

### 📐 布局优化
- **卡片尺寸**：统一为75mm × 90mm (5:6比例)
- **网格布局**：2列3行，每页6张卡片
- **间距控制**：左右间距10mm，上下间距6mm
- **边距设置**：上边距6mm，下边距10mm，侧边距10mm

### 📝 文档更新
- 更新README.md，添加统一配置功能说明
- 更新API_SETUP.md，添加配置管理章节
- 更新项目结构说明，包含新的config目录

---

## [v1.3] - 2024-12-19

### 🗑️ 移除功能
- **移除JPG导出功能**：由于技术兼容性问题（html2canvas与Tailwind CSS v4的oklch颜色格式冲突），已完全移除JPG导出功能
- **移除相关依赖**：移除了html2canvas库的导入和使用
- **简化UI**：移除了"导出为JPG"按钮，简化了导出选项界面

### ✅ 保留功能
- **PDF导出功能**：完全保留并优化，支持多种纸张尺寸和布局
- **所有其他功能**：CSV上传、数据编辑、预览等功能完全正常

### 🔧 技术改进
- **字体编码优化**：修复了PDF导出中的音标字符编码问题
- **错误处理增强**：改进了PDF导出的错误处理机制
- **代码清理**：移除了所有JPG导出相关的代码，保持代码整洁

### 📝 文档更新
- 更新了README.md中的任务清单
- 更新了技术栈说明
- 更新了MVP成功标准
- 更新了项目状态和版本信息

---

## [v1.2] - 2024-12-19

### ✨ 新增功能
- **PDF导出功能**：使用pdf-lib库实现高质量PDF导出
- **多种纸张尺寸**：支持A4、Letter、A3纸张
- **多种布局选项**：支持4/6/8/9张卡片每页
- **双面对齐**：支持正反面对齐打印
- **导出设置**：可调节卡片间距、页面边距等参数

### 🔧 技术实现
- **物理尺寸单位**：使用mm/pt单位确保打印精度
- **字体编码处理**：支持音标和中文字符
- **安全文本绘制**：处理不支持的字符，确保导出成功

### 🐛 问题修复
- **字体编码错误**：修复了"WinAnsi cannot encode"错误
- **开发服务器错误**：修复了模块加载和缓存问题

---

## [v1.1] - 2024-08-06

### ✨ 新增功能
- **CSV文件上传**：支持拖拽和点击上传
- **手动添加单词**：支持逐个添加单词条目
- **数据编辑表格**：支持编辑所有单词字段
- **卡片预览**：支持正反面预览切换
- **数据持久化**：使用localStorage保存数据

### 🎨 UI改进
- **现代化界面**：使用Tailwind CSS和shadcn/ui组件
- **响应式设计**：适配不同屏幕尺寸
- **用户友好**：清晰的提示信息和状态反馈

---

## [v1.0] - 2024-08-06

### 🎯 项目初始化
- **项目架构**：基于Next.js 15.2.4和React 19
- **技术栈**：TypeScript、Tailwind CSS、shadcn/ui
- **基础功能**：单词卡片制作工具的基础框架 